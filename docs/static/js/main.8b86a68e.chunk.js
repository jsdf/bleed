(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{53:function(e,o,a){e.exports=a(93)},58:function(e,o,a){},59:function(e,o,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},60:function(e,o,a){},8:function(e,o){e.exports=[{name:"Blu",colors:["#00416A","#E4E5E6"]},{name:"Ver",colors:["#FFE000","#799F0C"]},{name:"Ver Black",colors:["#F7F8F8","#ACBB78"]},{name:"Anwar",colors:["#334d50","#cbcaa5"]},{name:"Reaqua",colors:["#799F0C","#ACBB78"]},{name:"Mango",colors:["#ffe259","#ffa751"]},{name:"Bupe",colors:["#00416A","#E4E5E6"]},{name:"Rea",colors:["#FFE000","#799F0C"]},{name:"Windy",colors:["#acb6e5","#86fde8"]},{name:"Royal Blue",colors:["#536976","#292E49"]},{name:"Copper",colors:["#B79891","#94716B"]},{name:"Anamnisar",colors:["#9796f0","#fbc7d4"]},{name:"Petrol",colors:["#BBD2C5","#536976"]},{name:"Sky",colors:["#076585","#ffffff"]},{name:"Sel",colors:["#00467F","#A5CC82"]},{name:"Skyline",colors:["#1488CC","#2B32B2"]},{name:"DIMIGO",colors:["#ec008c","#fc6767"]},{name:"Purple Love",colors:["#cc2b5e","#753a88"]},{name:"Sexy Blue",colors:["#2193b0","#6dd5ed"]},{name:"Blooker20",colors:["#e65c00","#F9D423"]},{name:"Sea Blue",colors:["#2b5876","#4e4376"]},{name:"Nimvelo",colors:["#314755","#26a0da"]},{name:"Noon to Dusk",colors:["#ff6e7f","#bfe9ff"]},{name:"YouTube",colors:["#e52d27","#b31217"]},{name:"Cool Brown",colors:["#603813","#b29f94"]},{name:"Harmonic Energy",colors:["#16A085","#F4D03F"]},{name:"Playing with Reds",colors:["#D31027","#EA384D"]},{name:"Sunny Days",colors:["#EDE574","#E1F5C4"]},{name:"Green Beach",colors:["#02AAB0","#00CDAC"]},{name:"Intuitive Purple",colors:["#DA22FF","#9733EE"]},{name:"Emerald Water",colors:["#348F50","#56B4D3"]},{name:"Lemon Twist",colors:["#3CA55C","#B5AC49"]},{name:"Horizon",colors:["#003973","#E5E5BE"]},{name:"Rose Water",colors:["#E55D87","#5FC3E4"]},{name:"Frozen",colors:["#403B4A","#E7E9BB"]},{name:"Mango Pulp",colors:["#F09819","#EDDE5D"]},{name:"Bloody Mary",colors:["#FF512F","#DD2476"]},{name:"Aubergine",colors:["#AA076B","#61045F"]},{name:"Aqua Marine",colors:["#1A2980","#26D0CE"]},{name:"Sunrise",colors:["#FF512F","#F09819"]},{name:"Purple Paradise",colors:["#1D2B64","#F8CDDA"]},{name:"Sea Weed",colors:["#4CB8C4","#3CD3AD"]},{name:"Pinky",colors:["#DD5E89","#F7BB97"]},{name:"Cherry",colors:["#EB3349","#F45C43"]},{name:"Mojito",colors:["#1D976C","#93F9B9"]},{name:"Juicy Orange",colors:["#FF8008","#FFC837"]},{name:"Mirage",colors:["#16222A","#3A6073"]},{name:"Steel Gray",colors:["#1F1C2C","#928DAB"]},{name:"Kashmir",colors:["#614385","#516395"]},{name:"Electric Violet",colors:["#4776E6","#8E54E9"]},{name:"Venice Blue",colors:["#085078","#85D8CE"]},{name:"Bora Bora",colors:["#2BC0E4","#EAECC6"]},{name:"Moss",colors:["#134E5E","#71B280"]},{name:"Shroom Haze",colors:["#5C258D","#4389A2"]},{name:"Mystic",colors:["#757F9A","#D7DDE8"]},{name:"Midnight City",colors:["#232526","#414345"]},{name:"Sea Blizz",colors:["#1CD8D2","#93EDC7"]},{name:"Opa",colors:["#3D7EAA","#FFE47A"]},{name:"Titanium",colors:["#283048","#859398"]},{name:"Mantle",colors:["#24C6DC","#514A9D"]},{name:"Dracula",colors:["#DC2424","#4A569D"]},{name:"Peach",colors:["#ED4264","#FFEDBC"]},{name:"Moonrise",colors:["#DAE2F8","#D6A4A4"]},{name:"Clouds",colors:["#ECE9E6","#FFFFFF"]},{name:"Stellar",colors:["#7474BF","#348AC7"]},{name:"Bourbon",colors:["#EC6F66","#F3A183"]},{name:"Calm Darya",colors:["#5f2c82","#49a09d"]},{name:"Influenza",colors:["#C04848","#480048"]},{name:"Shrimpy",colors:["#e43a15","#e65245"]},{name:"Army",colors:["#414d0b","#727a17"]},{name:"Miaka",colors:["#FC354C","#0ABFBC"]},{name:"Pinot Noir",colors:["#4b6cb7","#182848"]},{name:"Day Tripper",colors:["#f857a6","#ff5858"]},{name:"Namn",colors:["#a73737","#7a2828"]},{name:"Blurry Beach",colors:["#d53369","#cbad6d"]},{name:"Vasily",colors:["#e9d362","#333333"]},{name:"A Lost Memory",colors:["#DE6262","#FFB88C"]},{name:"Petrichor",colors:["#666600","#999966"]},{name:"Jonquil",colors:["#FFEEEE","#DDEFBB"]},{name:"Sirius Tamed",colors:["#EFEFBB","#D4D3DD"]},{name:"Kyoto",colors:["#c21500","#ffc500"]},{name:"Misty Meadow",colors:["#215f00","#e4e4d9"]},{name:"Aqualicious",colors:["#50C9C3","#96DEDA"]},{name:"Moor",colors:["#616161","#9bc5c3"]},{name:"Almost",colors:["#ddd6f3","#faaca8"]},{name:"Forever Lost",colors:["#5D4157","#A8CABA"]},{name:"Winter",colors:["#E6DADA","#274046"]},{name:"Nelson",colors:["#f2709c","#ff9472"]},{name:"Autumn",colors:["#DAD299","#B0DAB9"]},{name:"Candy",colors:["#D3959B","#BFE6BA"]},{name:"Reef",colors:["#00d2ff","#3a7bd5"]},{name:"The Strain",colors:["#870000","#190A05"]},{name:"Dirty Fog",colors:["#B993D6","#8CA6DB"]},{name:"Earthly",colors:["#649173","#DBD5A4"]},{name:"Virgin",colors:["#C9FFBF","#FFAFBD"]},{name:"Ash",colors:["#606c88","#3f4c6b"]},{name:"Cherryblossoms",colors:["#FBD3E9","#BB377D"]},{name:"Parklife",colors:["#ADD100","#7B920A"]},{name:"Dance To Forget",colors:["#FF4E50","#F9D423"]},{name:"Starfall",colors:["#F0C27B","#4B1248"]},{name:"Red Mist",colors:["#000000","#e74c3c"]},{name:"Teal Love",colors:["#AAFFA9","#11FFBD"]},{name:"Neon Life",colors:["#B3FFAB","#12FFF7"]},{name:"Man of Steel",colors:["#780206","#061161"]},{name:"Amethyst",colors:["#9D50BB","#6E48AA"]},{name:"Cheer Up Emo Kid",colors:["#556270","#FF6B6B"]},{name:"Shore",colors:["#70e1f5","#ffd194"]},{name:"Facebook Messenger",colors:["#00c6ff","#0072ff"]},{name:"SoundCloud",colors:["#fe8c00","#f83600"]},{name:"Behongo",colors:["#52c234","#061700"]},{name:"ServQuick",colors:["#485563","#29323c"]},{name:"Friday",colors:["#83a4d4","#b6fbff"]},{name:"Martini",colors:["#FDFC47","#24FE41"]},{name:"Metallic Toad",colors:["#abbaab","#ffffff"]},{name:"Between The Clouds",colors:["#73C8A9","#373B44"]},{name:"Crazy Orange I",colors:["#D38312","#A83279"]},{name:"Hersheys",colors:["#1e130c","#9a8478"]},{name:"Talking To Mice Elf",colors:["#948E99","#2E1437"]},{name:"Purple Bliss",colors:["#360033","#0b8793"]},{name:"Predawn",colors:["#FFA17F","#00223E"]},{name:"Endless River",colors:["#43cea2","#185a9d"]},{name:"Pastel Orange at the Sun",colors:["#ffb347","#ffcc33"]},{name:"Twitch",colors:["#6441A5","#2a0845"]},{name:"Flickr",colors:["#ff0084","#33001b"]},{name:"Vine",colors:["#00bf8f","#001510"]},{name:"Turquoise flow",colors:["#136a8a","#267871"]},{name:"Portrait",colors:["#8e9eab","#eef2f3"]},{name:"Virgin America",colors:["#7b4397","#dc2430"]},{name:"Koko Caramel",colors:["#D1913C","#FFD194"]},{name:"Fresh Turboscent",colors:["#F1F2B5","#135058"]},{name:"Green to dark",colors:["#6A9113","#141517"]},{name:"Ukraine",colors:["#004FF9","#FFF94C"]},{name:"Curiosity blue",colors:["#525252","#3d72b4"]},{name:"Dark Knight",colors:["#BA8B02","#181818"]},{name:"Piglet",colors:["#ee9ca7","#ffdde1"]},{name:"Lizard",colors:["#304352","#d7d2cc"]},{name:"Sage Persuasion",colors:["#CCCCB2","#757519"]},{name:"Between Night and Day",colors:["#2c3e50","#3498db"]},{name:"Timber",colors:["#fc00ff","#00dbde"]},{name:"Passion",colors:["#e53935","#e35d5b"]},{name:"Clear Sky",colors:["#005C97","#363795"]},{name:"Master Card",colors:["#f46b45","#eea849"]},{name:"Back To Earth",colors:["#00C9FF","#92FE9D"]},{name:"Deep Purple",colors:["#673AB7","#512DA8"]},{name:"Little Leaf",colors:["#76b852","#8DC26F"]},{name:"Netflix",colors:["#8E0E00","#1F1C18"]},{name:"Light Orange",colors:["#FFB75E","#ED8F03"]},{name:"Green and Blue",colors:["#c2e59c","#64b3f4"]},{name:"Poncho",colors:["#403A3E","#BE5869"]},{name:"Back to the Future",colors:["#C02425","#F0CB35"]},{name:"Blush",colors:["#B24592","#F15F79"]},{name:"Inbox",colors:["#457fca","#5691c8"]},{name:"Purplin",colors:["#6a3093","#a044ff"]},{name:"Pale Wood",colors:["#eacda3","#d6ae7b"]},{name:"Haikus",colors:["#fd746c","#ff9068"]},{name:"Pizelex",colors:["#114357","#F29492"]},{name:"Joomla",colors:["#1e3c72","#2a5298"]},{name:"Christmas",colors:["#2F7336","#AA3A38"]},{name:"Minnesota Vikings",colors:["#5614B0","#DBD65C"]},{name:"Miami Dolphins",colors:["#4DA0B0","#D39D38"]},{name:"Forest",colors:["#5A3F37","#2C7744"]},{name:"Nighthawk",colors:["#2980b9","#2c3e50"]},{name:"Superman",colors:["#0099F7","#F11712"]},{name:"Suzy",colors:["#834d9b","#d04ed6"]},{name:"Dark Skies",colors:["#4B79A1","#283E51"]},{name:"Deep Space",colors:["#000000","#434343"]},{name:"Decent",colors:["#4CA1AF","#C4E0E5"]},{name:"Colors Of Sky",colors:["#E0EAFC","#CFDEF3"]},{name:"Purple White",colors:["#BA5370","#F4E2D8"]},{name:"Ali",colors:["#ff4b1f","#1fddff"]},{name:"Alihossein",colors:["#f7ff00","#db36a4"]},{name:"Shahabi",colors:["#a80077","#66ff00"]},{name:"Red Ocean",colors:["#1D4350","#A43931"]},{name:"Tranquil",colors:["#EECDA3","#EF629F"]},{name:"Transfile",colors:["#16BFFD","#CB3066"]},{name:"Sylvia",colors:["#ff4b1f","#ff9068"]},{name:"Sweet Morning",colors:["#FF5F6D","#FFC371"]},{name:"Politics",colors:["#2196f3","#f44336"]},{name:"Bright Vault",colors:["#00d2ff","#928DAB"]},{name:"Solid Vault",colors:["#3a7bd5","#3a6073"]},{name:"Sunset",colors:["#0B486B","#F56217"]},{name:"Grapefruit Sunset",colors:["#e96443","#904e95"]},{name:"Deep Sea Space",colors:["#2C3E50","#4CA1AF"]},{name:"Dusk",colors:["#2C3E50","#FD746C"]},{name:"Minimal Red",colors:["#F00000","#DC281E"]},{name:"Royal",colors:["#141E30","#243B55"]},{name:"Mauve",colors:["#42275a","#734b6d"]},{name:"Frost",colors:["#000428","#004e92"]},{name:"Lush",colors:["#56ab2f","#a8e063"]},{name:"Firewatch",colors:["#cb2d3e","#ef473a"]},{name:"Sherbert",colors:["#f79d00","#64f38c"]},{name:"Blood Red",colors:["#f85032","#e73827"]},{name:"Sun on the Horizon",colors:["#fceabb","#f8b500"]},{name:"IIIT Delhi",colors:["#808080","#3fada8"]},{name:"Jupiter",colors:["#ffd89b","#19547b"]},{name:"50 Shades of Grey",colors:["#bdc3c7","#2c3e50"]},{name:"Dania",colors:["#BE93C5","#7BC6CC"]},{name:"Limeade",colors:["#A1FFCE","#FAFFD1"]},{name:"Disco",colors:["#4ECDC4","#556270"]},{name:"Love Couple",colors:["#3a6186","#89253e"]},{name:"Azure Pop",colors:["#ef32d9","#89fffd"]},{name:"Nepal",colors:["#de6161","#2657eb"]},{name:"Cosmic Fusion",colors:["#ff00cc","#333399"]},{name:"Snapchat",colors:["#fffc00","#ffffff"]},{name:"Ed's Sunset Gradient",colors:["#ff7e5f","#feb47b"]},{name:"Brady Brady Fun Fun",colors:["#00c3ff","#ffff1c"]},{name:"Black Ros\xe9",colors:["#f4c4f3","#fc67fa"]},{name:"80's Purple",colors:["#41295a","#2F0743"]},{name:"Ibiza Sunset",colors:["#ee0979","#ff6a00"]},{name:"Dawn",colors:["#F3904F","#3B4371"]},{name:"Mild",colors:["#67B26F","#4ca2cd"]},{name:"Vice City",colors:["#3494E6","#EC6EAD"]},{name:"Jaipur",colors:["#DBE6F6","#C5796D"]},{name:"Cocoaa Ice",colors:["#c0c0aa","#1cefff"]},{name:"EasyMed",colors:["#DCE35B","#45B649"]},{name:"Rose Colored Lenses",colors:["#E8CBC0","#636FA4"]},{name:"What lies Beyond",colors:["#F0F2F0","#000C40"]},{name:"Roseanna",colors:["#FFAFBD","#ffc3a0"]},{name:"Honey Dew",colors:["#43C6AC","#F8FFAE"]},{name:"Under the Lake",colors:["#093028","#237A57"]},{name:"The Blue Lagoon",colors:["#43C6AC","#191654"]},{name:"Can You Feel The Love Tonight",colors:["#4568DC","#B06AB3"]},{name:"Very Blue",colors:["#0575E6","#021B79"]},{name:"Love and Liberty",colors:["#200122","#6f0000"]},{name:"Orca",colors:["#44A08D","#093637"]},{name:"Venice",colors:["#6190E8","#A7BFE8"]},{name:"Pacific Dream",colors:["#34e89e","#0f3443"]},{name:"Learning and Leading",colors:["#F7971E","#FFD200"]},{name:"Celestial",colors:["#C33764","#1D2671"]},{name:"Purplepine",colors:["#20002c","#cbb4d4"]},{name:"Sha la la",colors:["#D66D75","#E29587"]},{name:"Mini",colors:["#30E8BF","#FF8235"]},{name:"Maldives",colors:["#B2FEFA","#0ED2F7"]},{name:"Cinnamint",colors:["#4AC29A","#BDFFF3"]},{name:"Html",colors:["#E44D26","#F16529"]},{name:"Coal",colors:["#EB5757","#000000"]},{name:"Sunkist",colors:["#F2994A","#F2C94C"]},{name:"Blue Skies",colors:["#56CCF2","#2F80ED"]},{name:"Chitty Chitty Bang Bang",colors:["#007991","#78ffd6"]},{name:"Visions of Grandeur",colors:["#000046","#1CB5E0"]},{name:"Crystal Clear",colors:["#159957","#155799"]},{name:"Mello",colors:["#c0392b","#8e44ad"]},{name:"Compare Now",colors:["#EF3B36","#FFFFFF"]},{name:"Meridian",colors:["#283c86","#45a247"]},{name:"Alive",colors:["#CB356B","#BD3F32"]},{name:"Scooter",colors:["#36D1DC","#5B86E5"]},{name:"Terminal",colors:["#000000","#0f9b0f"]},{name:"Telegram",colors:["#1c92d2","#f2fcfe"]},{name:"Crimson Tide",colors:["#642B73","#C6426E"]},{name:"Socialive",colors:["#06beb6","#48b1bf"]},{name:"Broken Hearts",colors:["#d9a7c7","#fffcdc"]},{name:"Kimoby Is The New Blue",colors:["#396afc","#2948ff"]},{name:"Dull",colors:["#C9D6FF","#E2E2E2"]},{name:"Purpink",colors:["#7F00FF","#E100FF"]},{name:"Orange Coral",colors:["#ff9966","#ff5e62"]},{name:"Summer",colors:["#22c1c3","#fdbb2d"]},{name:"Velvet Sun",colors:["#e1eec3","#f05053"]},{name:"Lithium",colors:["#6D6027","#D3CBB8"]},{name:"Digital Water",colors:["#74ebd5","#ACB6E5"]},{name:"Orange Fun",colors:["#fc4a1a","#f7b733"]},{name:"Rainbow Blue",colors:["#00F260","#0575E6"]},{name:"Pink Flavour",colors:["#800080","#ffc0cb"]},{name:"Sulphur",colors:["#CAC531","#F3F9A7"]},{name:"Selenium",colors:["#3C3B3F","#605C3C"]},{name:"Delicate",colors:["#D3CCE3","#E9E4F0"]},{name:"Ohhappiness",colors:["#00b09b","#96c93d"]},{name:"Relaxing red",colors:["#fffbd5","#b20a2c"]},{name:"Taran Tado",colors:["#23074d","#cc5333"]},{name:"Bighead",colors:["#c94b4b","#4b134f"]},{name:"Sublime Vivid",colors:["#FC466B","#3F5EFB"]},{name:"Sublime Light",colors:["#FC5C7D","#6A82FB"]},{name:"Pun Yeta",colors:["#108dc7","#ef8e38"]},{name:"Quepal",colors:["#11998e","#38ef7d"]},{name:"Sand to Blue",colors:["#3E5151","#DECBA4"]},{name:"Shifter",colors:["#bc4e9c","#f80759"]},{name:"Moon Purple",colors:["#4e54c8","#8f94fb"]},{name:"Pure Lust",colors:["#333333","#dd1818"]},{name:"Slight Ocean View",colors:["#a8c0ff","#3f2b96"]},{name:"eXpresso",colors:["#ad5389","#3c1053"]},{name:"Shifty",colors:["#636363","#a2ab58"]},{name:"Vanusa",colors:["#DA4453","#89216B"]},{name:"Evening Night",colors:["#005AA7","#FFFDE4"]},{name:"Margo",colors:["#FFEFBA","#FFFFFF"]},{name:"Blue Raspberry",colors:["#00B4DB","#0083B0"]},{name:"Citrus Peel",colors:["#FDC830","#F37335"]},{name:"Sin City Red",colors:["#ED213A","#93291E"]},{name:"Summer Dog",colors:["#a8ff78","#78ffd6"]},{name:"Burning Orange",colors:["#FF416C","#FF4B2B"]},{name:"Ultra Voilet",colors:["#654ea3","#eaafc8"]},{name:"By Design",colors:["#009FFF","#ec2F4B"]},{name:"Kyoo Tah",colors:["#544a7d","#ffd452"]},{name:"Kye Meh",colors:["#8360c3","#2ebf91"]},{name:"Kyoo Pal",colors:["#dd3e54","#6be585"]},{name:"Metapolis",colors:["#659999","#f4791f"]},{name:"Flare",colors:["#f12711","#f5af19"]},{name:"Witching Hour",colors:["#c31432","#240b36"]},{name:"Neuromancer",colors:["#f953c6","#b91d73"]},{name:"Harvey",colors:["#1f4037","#99f2c8"]},{name:"Amin",colors:["#8E2DE2","#4A00E0"]},{name:"Yoda",colors:["#FF0099","#493240"]},{name:"Dark Ocean",colors:["#373B44","#4286f4"]},{name:"Evening Sunshine",colors:["#b92b27","#1565C0"]},{name:"Cool Blues",colors:["#2193b0","#6dd5ed"]},{name:"Piggy Pink",colors:["#ee9ca7","#ffdde1"]},{name:"Grade Grey",colors:["#bdc3c7","#2c3e50"]}]},89:function(e,o){},93:function(e,o,a){"use strict";a.r(o);var n=a(1),r=a.n(n),t=a(47),c=a.n(t),l=(a(58),a(30)),s=a(26),i=a(5),m=a(0),u=a(2),f=a(27),d=(a(59),a(28)),F=a.n(d),h=(a(60),a(29)),b=a(3);var C=a(48),E=a.n(C),g=a(52),B=a(49),p=(a(16),a(92),a(50)),v=a(51),D=a(8),w=a.n(D),A=a(95),y=a(10),S=a(11);w.a.forEach((function(e){return e.colors=e.colors.map((function(e){return parseInt(e.slice(1),16)}))}));var k=["off","pulse","alternate","rainbow","gradient"],M=new Map(k.map((function(e,o){return[o,e]}))),O=new URLSearchParams(window.location.search),T=parseInt(O.get("port"))||13131,P=O.get("host")||"rpi4.local";var x=p(b),j=new v.Noise(Math.random());function z(e,o){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3,n=6e4/o,r=e-a/2,t=e+a/2,c=Math.floor(r/n),l=Math.ceil(t/n),s=[],i=c;i<=l;i++)s.push({id:i,time:i*n});return s}function L(e,o,a){return e<-o||e>a?0:e<0?h.inCube(e/o+1):h.inCube(1-e/a)}function R(e,o,a,n){var r,t=0,c=Object(f.a)(e);try{for(c.s();!(r=c.n()).done;){var l=o-r.value.time;t+=Math.max(0,L(l,a,n))}}catch(s){c.e(s)}finally{c.f()}return Math.min(1,t)}function W(e){var o=!0;return function a(){o&&requestAnimationFrame((function(){e(),a()}))}(),function(){o=!1}}function V(e,o){var a=e.current;a&&(a.innerText=o.join("\n"))}function I(e){var o=r.a.useRef(null),a=r.a.useRef(e);a.current=e;var n=e.windowDimensions;return r.a.useEffect((function(){var e=o.current;if(e){var r=e.getContext("2d"),t=n.width,c=n.height;return e.width=t,e.height=c,W((function(){var e=a.current,o=e.bpm,n=e.startTime,t=e.windowDimensions,c=e.attack,l=e.release,s=e.textRef,i=e.frameCounter,m=t.width,u=t.height,d=[],F=performance.now()-n,h=z(F,o),b=R(h,F,c,l);r.beginPath(),r.rect(0,0,m,u),r.fillStyle="black",r.fill();var C,E=Object(f.a)(h);try{for(E.s();!(C=E.n()).done;){var g=C.value.time-F;r.beginPath(),r.arc(g+m/2,u/2,50,0,2*Math.PI),r.strokeStyle="white",r.stroke()}}catch(p){E.e(p)}finally{E.f()}r.beginPath(),r.arc(m/2,u/2,50,0,2*Math.PI);var B="rgba(255,255,255,".concat(b,")");r.fillStyle=B,r.fill(),d.push(B),i.update(),d.push(i.format()),V(s,d)}))}}),[n]),r.a.createElement("canvas",{ref:o,width:n.width,height:n.height})}var N=function(){function e(o){var a=o.rowSize,n=o.windowSize,r=o.startOffset,t=o.enter,c=o.exit;Object(m.a)(this,e),this.rowSize=a,this.windowSize=n,this.pos=r,this.enter=t,this.exit=c,this.traverseWindowQuantized(r-n/2,r+n/2,t)}return Object(u.a)(e,[{key:"format",value:function(){return"pos=".concat(this.pos.toFixed(2))}},{key:"traverseWindowQuantized",value:function(e,o,a){for(var n=Math.floor(e/this.rowSize),r=Math.floor(o/this.rowSize),t=n;t<r;t++)a(t*this.rowSize,t)}},{key:"update",value:function(e){var o=e-this.pos,a=this.pos+this.windowSize/2,n=this.pos-this.windowSize/2;o>0?(this.traverseWindowQuantized(n,n+o,this.exit),this.traverseWindowQuantized(a,a+o,this.enter)):(this.traverseWindowQuantized(a+o,a,this.exit),this.traverseWindowQuantized(n+o,n,this.enter)),this.pos+=o}}]),e}(),G=new b.LineBasicMaterial({color:12309189});var H=new b.MeshBasicMaterial({color:16769625,transparent:!0});function K(e){var o=function(e){var o=new b.IcosahedronGeometry(3,0);return e=e||new b.MeshBasicMaterial({color:16769625,transparent:!0}),new b.Mesh(o,e)}(H),a=Math.random(),n=Math.abs(100*j.perlin2(e/100,a));return o.position.set(e-50,n-10,100*a-50),o}function J(e,o){return e*o+(1-o)}function q(e,o){return w.a[e].colors[o]}var Q={noiseWaves:function(e,o){var a=new b.Scene,n=e().windowDimensions;a.fog=new b.FogExp2(0,.01);var r=new b.PerspectiveCamera(75,n.width/n.height,.1,1e4),t=new x(r,o),c=new b.WebGLRenderer({canvas:o});c.setSize(n.width,n.height);var l=new g.a(c),s=new B.a(a,r);l.addPass(s);var i=function(){var e=new b.BoxGeometry(3,3,3),o=new b.MeshBasicMaterial({color:16769625,transparent:!0});return new b.Mesh(e,o)}();a.add(i);var m=new b.Group,u=new Map;m.position.y=-25,m.position.x=100,m.position.z=0;var f=new N({rowSize:1,windowSize:100,startOffset:0,enter:function(e,o){var a=function(e){for(var o=[],a=0;a<100;a++){var n=Math.abs(100*j.perlin2(e/100,a/100));o.push(new b.Vector3(e-50,n-10,1*a-50))}return new b.Line((new b.BufferGeometry).setFromPoints(o),G.clone())}(o);u.set(o,a),m.add(a)},exit:function(e,o){var a=u.get(o);a&&(a.geometry.dispose(),a.material.dispose()),m.remove(a),u.delete(o)}});a.add(m);var d=new b.Group,F=new Map;d.position.y=-25,d.position.x=100,d.position.z=0;var h=new N({rowSize:1,windowSize:100,startOffset:0,enter:function(o,a){if(e().generateParticles){var n=K(a);F.set(a,n),d.add(n)}},exit:function(e,o){var a=F.get(o);a&&(a.geometry.dispose(),a.material.dispose(),d.remove(a),F.delete(o))}});a.add(d),r.position.x=10,r.lookAt(i.position);var C=new b.Color("black"),E=new b.Color("white");return{draw:function(e,o){var n=e.bpm,r=e.startTime,c=e.attack,s=e.release,F=(e.textRef,e.frameCounter,e.scroll,e.logLines),b=e.gradient,g=(e.phrase,e.program);i.rotation.z+=.002,i.rotation.y+=.01,i.rotation.x+=.01,t.update();var B=performance.now()-r,p=R(z(B,n),B,c,s);a.background=g==M.get("invert")?E:C,a.fog.color=g==M.get("invert")?E:C,R(z(B,n/16,12e3),B,c/2,s/2),i.scale.setScalar(J(p,.25)),i.material.opacity=J(p,.25),i.material.wireframe=p<.7||!0,i.material.color.setHex(q(b,1)),m.position.x+=1,f.update(-m.position.x),m.scale.z=J(p,1/16),G.color.setHex(q(b,0)),d.position.x+=1,h.update(-d.position.x),H.color.setHex(q(b,1)),H.wireframe=p<.7;var v=function(e,o){var a=Object(S.a)((e=Object(A.a)(e)).l,(o=Object(A.a)(o)).l),n=Object(S.a)(e.a,o.a),r=Object(S.a)(e.b,o.b),t=Object(S.a)(e.opacity,o.opacity);return function(o){return e.l=a(o),e.a=n(o),e.b=r(o),e.opacity=t(o),Object(y.c)(e)}}("#"+q(b,0).toString(16),"#"+q(b,1).toString(16));u.forEach((function(e,o){v(o%100/100)})),F.push(f.format()),F.push("intensity=".concat(p.toFixed(2))),l.render()}}}};function U(e){var o=r.a.useState("noiseWaves"),a=Object(i.a)(o,2),n=a[0],t=(a[1],r.a.useState(0)),c=Object(i.a)(t,2),l=c[0],m=c[1],u=r.a.useRef(null),f=r.a.useRef(e),d=r.a.useRef(e);d.current=f.current,f.current=e;var F=e.windowDimensions,h=e.frameCounter,b=e.textRef,C=r.a.useCallback((function(e){}));return r.a.useEffect((function(){var e=u.canvas;null!=e&&(e.addEventListener("webglcontextlost",(function(e){m((function(e){return e+1}))}),!1),e.addEventListener("webglcontextrestored",(function(e){m((function(e){return e+1}))}),!1))}),[]),r.a.useEffect((function(){if(null!=u.current){var e=(0,Q[n])((function(){return f.current}),u.current),o=W((function(){var o=[];e.draw(Object(s.a)(Object(s.a)({},f.current),{},{logLines:o}),d.current),h.update(),o.push(h.format()),V(b,o)}));return function(){e.cleanup&&e.cleanup(),o()}}}),[F,n,l]),r.a.createElement("canvas",{ref:u,width:F.width,height:F.height,onKeyDown:C})}function Y(e){var o=e.label,a=e.onChange,n=Object(l.a)(e,["label","onChange"]);return r.a.createElement("label",{className:"Range"},o,r.a.createElement("input",Object.assign({type:"text"},n,{onChange:function(e){return a(parseFloat(e.currentTarget.value))}})),r.a.createElement("input",Object.assign({type:"range"},n,{onChange:function(e){return a(parseFloat(e.currentTarget.value))}})))}function X(e){var o=e.options,a=e.label,n=e.value,t=e.onChange;return r.a.createElement("label",{className:"Select"},a,r.a.createElement("select",{value:n,onChange:function(e){return t(e.currentTarget.value)}},o.map((function(e,o){return r.a.createElement("option",{key:e,value:e},e)}))))}function $(e){var o=e.onBPM,a=e.onStartTime,n=e.children,t=r.a.useRef([]),c=r.a.useCallback((function(e){e.stopPropagation();var n=t.current,r=performance.now(),c=n[n.length-1],l=(null==c||c<r-1400?[]:n).filter((function(e){return e>r-5e3}));if(l.push(r),t.current=l,l.length>=4){var s=(l[l.length-1]-l[0])/(l.length-1);o(Math.max(0,Math.min(250,6e4/s))),a(l[0])}}),[o,a]),l=r.a.useCallback((function(e){" "==e.key&&c(e)}),[c]);return r.a.useEffect((function(){return document.addEventListener("keydown",l),function(){return document.removeEventListener("keydown",l)}}),[l]),r.a.createElement("div",{onPointerDown:c},n)}var Z=function(){function e(){Object(m.a)(this,e),this.frame=0,this.lastAvgFrameCount=0,this.frameTimeSum=0,this.lastAvgFrameTime=0,this.lastFrameStart=performance.now()}return Object(u.a)(e,[{key:"update",value:function(){var e=performance.now();this.frameTimeSum+=e-this.lastFrameStart,this.lastFrameStart=e,this.frame%60===0&&(this.lastAvgFrameTime=this.frameTimeSum/60,this.lastAvgFrameCount=1e3/this.lastAvgFrameTime,this.frameTimeSum=0),this.frame++}},{key:"format",value:function(){return"fps=".concat(this.lastAvgFrameCount.toFixed(1)," frametime=").concat(this.lastAvgFrameTime.toFixed(2),"ms")}}]),e}(),_=null,ee=F()((function(){if(_){var e=_,o=e.api,a=Object(l.a)(e,["api"]);console.log("api.sendCommand blecast",a),o.sendCommand("blecast",a)}}),100);function oe(e){_=e,ee()}var ae=function(){var e=function(e,o){var a="planetarium-".concat(e),r=Object(n.useState)((function(){try{var e=window.localStorage.getItem(a);return e?JSON.parse(e):o}catch(n){return console.log(n),o}})),t=Object(i.a)(r,2),c=t[0],l=t[1];return[c,function(e){try{var o=e instanceof Function?e(c):e;l(o),window.localStorage.setItem(a,JSON.stringify(o))}catch(n){console.log(n)}}]}("view","3d"),o=Object(i.a)(e,2),a=o[0],t=o[1],c=r.a.useState(120),l=Object(i.a)(c,2),s=l[0],m=l[1],u=r.a.useState(performance.now()),f=Object(i.a)(u,2),d=f[0],h=f[1],b=r.a.useState(0),C=Object(i.a)(b,2),g=C[0],B=(C[1],r.a.useState(!0)),p=Object(i.a)(B,2),v=p[0],D=p[1],A=r.a.useState(!1),y=Object(i.a)(A,2),S=y[0],M=y[1],O=r.a.useState(0),x=Object(i.a)(O,2),j=x[0],z=x[1],L=r.a.useState(1),R=Object(i.a)(L,2),W=R[0],V=R[1],N=r.a.useState(500),G=Object(i.a)(N,2),H=G[0],K=G[1],J=r.a.useState(100),q=Object(i.a)(J,2),Q=q[0],_=q[1],ee=r.a.useState(600),ae=Object(i.a)(ee,2),ne=ae[0],re=ae[1],te=r.a.useState(0),ce=Object(i.a)(te,2),le=ce[0],se=(ce[1],r.a.useState({width:window.innerWidth,height:window.innerHeight})),ie=Object(i.a)(se,2),me=ie[0],ue=ie[1],fe=r.a.useRef(null),de=r.a.useRef(null);null==de.current&&(de.current=new Z);var Fe=de.current;r.a.useEffect((function(){window.addEventListener("resize",F()((function(){ue({width:window.innerWidth,height:window.innerHeight})}),300))}),[]);var he=r.a.useCallback((function(e){switch(console.log(e.key),e.key){case"q":_((function(e){return Math.min(e+100,1e3)}));break;case"e":re((function(e){return Math.min(e+100,1e3)}));break;case"h":D((function(e){return!e}));break;case"p":M(!0);break;case"c":case"g":z((function(e){return(e+1)%w.a.length}));break;case"ArrowUp":K((function(e){return Math.min(e+100,1e3)}));break;case"ArrowDown":K((function(e){return Math.max(e-100,0)}));break;case"ArrowLeft":V((function(e){return 1===e?k.length-1:e-1}));break;case"ArrowRight":V((function(e){return e===k.length-1?1:e+1}))}}),[]),be=r.a.useCallback((function(e){switch(console.log(e.key),e.key){case"a":case"d":re((function(e){return Math.max(e-100,0)}));break;case"p":M(!1)}}),[]);r.a.useEffect((function(){return document.addEventListener("keydown",he),document.addEventListener("keyup",be),function(){return document.removeEventListener("keydown",he)}}),[he]);var Ce=r.a.useState(null),Ee=Object(i.a)(Ce,2),ge=Ee[0],Be=Ee[1],pe=r.a.useState([]),ve=Object(i.a)(pe,2),De=ve[0],we=ve[1],Ae=r.a.useRef(null);r.a.useEffect((function(){var e,o=E.a.connect((e="","http://".concat(P,":").concat(T).concat(e)));o.on("state",(function(e){console.log(e),Be(e)})),o.on("disconnect",(function(){console.log("got disconnect message"),we((function(e){return e.concat({message:"disconnected",error:null})}))})),o.on("error",(function(e){console.log("got error message",e),we((function(o){return o.concat({message:"io error",error:e})}))}));var a={sendCommand:function(e,a){o.emit("cmd",{cmd:e,data:a})}};Ae.current=a,o.on("connect",(function(){var e=performance.now();console.log("syncTime",{clientTime:e}),a.sendCommand("syncTime",{clientTime:e}),oe({api:a,bpm:s,startTime:d,gradient:j,energy:H,attack:Q,release:ne,program:W})}))}),[]),r.a.useEffect((function(){window.serverDebug={apiRef:Ae,serverState:ge,clientErrors:De}}),[ge,De]),r.a.useEffect((function(){var e=Ae.current;e&&oe({api:e,bpm:s,startTime:d,gradient:j,energy:H,attack:Q,release:ne,program:W})}),[s,d,j,H,Q,ne,W]),r.a.useEffect((function(){var e=null;return function o(){e&&clearTimeout(e);var a=performance.now()-d,n=6e4/(s/32),r=Math.ceil(a/n)*n;e=setTimeout((function(){z((function(e){return(e+1)%w.a.length})),o()}),r-a-10)}(),function(){clearTimeout(e)}}),[s,d,W]);var ye,Se={bpm:s,startTime:d,windowDimensions:me,attack:Q,release:ne,textRef:fe,frameCounter:Fe,scroll:g,gradient:j,energy:H,program:W,phrase:le,generateParticles:S},ke=6e4/s;return r.a.createElement("div",null,v&&r.a.createElement("div",{style:{position:"absolute",top:16,left:16}},r.a.createElement("div",null,r.a.createElement("label",null,"jog: "),r.a.createElement("button",{onClick:function(){return h((function(e){return e-10}))}},"\u2190"),r.a.createElement("button",{onClick:function(){return h((function(e){return e+10}))}},"\u2192")," ",Math.round(d%ke/ke*100)," %"),r.a.createElement("div",null,r.a.createElement("label",null,"color: "),r.a.createElement("button",{onClick:function(){return z((function(e){return 0===e?w.a.length-1:e-1}))}},"\u2190"),r.a.createElement("button",{onClick:function(){return z((function(e){return(e+1)%w.a.length}))}},"\u2192")," ",w.a[j].name," ",r.a.createElement("div",{style:{width:20,height:20,backgroundColor:"#"+w.a[j].colors[0].toString(16),display:"inline-block",border:"solid 1px white"}}),r.a.createElement("div",{style:{width:20,height:20,backgroundColor:"#"+w.a[j].colors[1].toString(16),display:"inline-block",border:"solid 1px white"}})),r.a.createElement("div",null,r.a.createElement("label",null,"program: "),r.a.createElement("button",{onClick:function(){return V((function(e){return 0===e?k.length-1:e-1}))}},"\u2190"),r.a.createElement("button",{onClick:function(){return V((function(e){return(e+1)%k.length}))}},"\u2192")," ",k[W]),r.a.createElement(X,{label:"view: ",options:["none","2d","3d"],value:a,onChange:t}),r.a.createElement(Y,{label:"bpm: ",min:40,max:250,value:(ye=s,Math.round(1e3*ye)/1e3),onChange:m}),r.a.createElement(Y,{label:"energy: ",min:0,max:1e3,value:H,onChange:K}),r.a.createElement(Y,{label:"attack: ",min:0,max:1e3,value:Q,onChange:_}),r.a.createElement(Y,{label:"release: ",min:0,max:1e3,value:ne,onChange:re})),r.a.createElement($,{onBPM:m,onStartTime:h},"none"===a?null:"2d"===a?r.a.createElement(I,Se):r.a.createElement(U,Se)),v&&r.a.createElement("pre",{style:{position:"absolute",bottom:16,left:16,fontSize:16},ref:fe}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.8b86a68e.chunk.js.map